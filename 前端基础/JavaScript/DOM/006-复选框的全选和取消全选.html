<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>复选框的全选和取消全选</title>
	</head>
	<body>
		<script type="text/javascript">
			/*window.onload = function(){
				//获取对象
				var main = document.getElementById("main");
				main.onclick = function(){
					//获取当前复选框的状态(复选框对象.checkbox对象)
					//根据name属性获取对象集合
					var aihaos = document.getElementsByName("aihao");
					if(main.checked){
						//全选
						for(var i = 0;i < aihaos.length;i++){
							aihaos[i].checked = true;
						}
					}else{
						//取消全选
						for(var i = 0;i < aihaos.length;i++){
							aihaos[i].checked = false;
						}
					}
				}
			}*/
			//优化代码：让其他复选框的状态变成朱复选框的状态就可以
			window.onload = function(){
				//获取对象
				var main = document.getElementById("main");
				var aihaos = document.getElementsByName("aihao");
				main.onclick = function(){
					for(var i = 0;i < aihaos.length;i++){
						aihaos[i].checked = main.checked;
					}
				}
				//让住复选框跟着其他复选框的状态进行改变
				var all = aihaos.length;
				for(var i = 0;i < aihaos.length;i++){
					//给每一个复选框设置单击事件
					aihaos[i].onclick = function(){
						var count = 0;
						//遍历检查每一个复选的状态
						for(var j = 0;j < aihaos.length;j++){
							if(aihaos[j].checked)
							count++;
						}
						main.checked = (all == count);
					}
				}
			}
		</script>
		<input type="checkbox" id="main"/>全选
		<input type="checkbox" name="aihao" id="smoke"/>抽烟
		<input type="checkbox" name="aihao" id="drink"/>喝酒
		<input type="checkbox" name="aihao" id="tt"/>烫头
	</body>
</html>
