# 操作系统

##  1. 概述

### 1.1 什么是操作系统

操作系统（Operating System，简称OS）是计算机系统中的一种系统软件，它是控制和管理计算机硬件与应用软件之间交互的核心程序。是硬件和软件的中间层。

要理解操作系统，理解硬件 (计算机) 和软件 (程序) 的发展历史，夹在中间的就是操作系统

+ 1940s 的计算机硬件
  + 逻辑门：真空电子管
  + 存储器：延迟线 (delay lines)
  + 输入/输出：打孔纸带/指示灯
+ 1940s 的操作系统：没有操作系统
+ 1950s 的计算机硬件
  + 更快更小的逻辑门 (晶体管)、更大的内存 (磁芯)、丰富的 I/O 设备
    - I/O 设备的速度已经严重低于处理器的速度，中断机制出现 (1953)
+ 1950s 的操作系统：
  + 操作系统的概念开始形成：操作 (operate) 任务 (jobs) 的系统 (system)
+ 1960s 的计算机硬件
  + 集成电路、总线出现，更多的高级语言和编译器出现
  + 更快的处理器
  + 更快、更大的内存；虚拟存储出现
    - 可以同时载入多个程序而不用 “换卡” 了
  + 更丰富的 I/O 设备；完善的中断/异常机制
+ 1960s 的操作系统：
  + 为防止程序之间形成干扰，操作系统自然地将共享资源 (如设备) 以 API 形式管理起来
    - 有了进程 (process) 的概念
    - 进程在执行 I/O 时，可以将 CPU 让给另一个进程
      - 在多个地址空间隔离的程序之间切换
      - 虚拟存储使一个程序出 bug 不会 crash 整个系统
+ 1970s+ 的计算机硬件
  + 集成电路空前发展，个人电脑兴起，“计算机” 已与今日无大异
    - CISC 指令集；中断、I/O、异常、MMU、网络
    - 个人计算机 (PC 机)、超级计算机……
+ 1970s+ 的操作系统
  + 分时系统走向成熟，UNIX 诞生并走向完善，奠定了现代操作系统的形态。

+ 今天的操作系统
  + 更复杂的处理器和内存
    - 非对称多处理器 (ARM big.LITTLE; Intel P/E-cores)
    - Non-uniform Memory Access (NUMA)
    - 更多的硬件机制 Intel-VT/AMD-V, TrustZone/~~SGX~~, TSX, ...
  + 更多的设备和资源
    - 网卡、SSD、GPU、FPGA...
  + 复杂的应用需求和应用环境
    - 服务器、个人电脑、智能手机、手表、手环、IoT/微控制器……

### 2. 应用视角的操作系统



