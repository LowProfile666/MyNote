# 右移

## 1. 概念定义

### 1）按位右移

右移也就是按位右移，顾名思义就是按二进制位进行“右移”操作。



按位右移运算符 `>>` 是一个双目运算符，其功能是将一个数的二进制位全部右移若干位，移动的位数由右操作数决定，移出位被丢弃，左边移出的空位或者一律补 0，或者补符号位。

+ 若是不带符号数，则补入的数全部为 0。
+ 若是带符号数，则补入的数全部为符号位。



比如：3 >> 5 = 0

```
3 ：00000011
	00000000
```

### 2）右移的结果

一个数右移 1 位就相当于缩小 2 倍，右移 n 位就是缩小 2^n^ 倍。即：`x >> n` 等价于 $x \div 2^n$ 向下取整 。



比如：3 >> 5 = 3 / 2^5 = 0。



由于除法可能造成不能整除，所以才会有 取下整 这一步运算。



### 3）负数的右移

负数的右移是指 `x >> n` 中 x 为负数的情况。



比如：-3 >> 5 = -1

```
-3 ：11111101（补码）
        11111111（右移 5 位后补码）
        10000000（反码）
        10000001（原码）
```



可以发现，负数的右移和正数的右移没有区别，结果依旧为 $x \div 2^n$ 向下取整。也可以理解为 `(-x) >> n` 等价于 `-(x >> n)` 。



### 4）应用

#### a. 去掉低 k 位

去掉低 k 位就是将一个数的 k 个低位丢弃掉，将这个数右移 k 位即可实现。

比如：去掉 99 的低 3 位后为 12。

```
99 ：01100011
     00001100
```



#### b. 取第 k 位的值

要得到一个数的第 k 位的值，那么可以将第 1 到 k-1 位的数字都去掉，所以可以使用右移 k-1 位来完成；然后可以和 1 进行与操作，来得到这一位的值。

比如：取 5 的第 3 位是 1。

```
5 ：00000101
    00000001（右移2位）
 &  00000001（和1进行
 ------------
    00000001
```



#### c. 取低位连续的 1

假设一个数 x 的低位有连续的 k 个的 1，需要得到这 k 个连续的 1。

我们将 x 加上 1，这样低位 k 个连续的 1 就会变成连续的 k 个 0，而 k+1 位会变成 1。然后我们将 x 和 x+1 进行异或操作得到结果 y，那么 y 的低 k+1 位就全是 1，而其他位都被变成了 0，此时再将 y 右移 1 位，这样就得到了 x 的低 k 位连续 1 的值。

比如：取  79 的低位连续 1 的值是 15。

```
79 ：  01001111
    ^  01010000（79+1）
    -------------
       00011111（异或后的值）
       00001111（右移一位）
```



## 2. 题目练习

| 题目链接                                                     | 备注 |
| ------------------------------------------------------------ | ---- |
| [位1的个数](https://leetcode-cn.com/problems/number-of-1-bits/) |      |
| [2的幂](https://leetcode-cn.com/problems/power-of-two/)      |      |
| [4的幂](https://leetcode-cn.com/problems/power-of-four/)     |      |
| [数字转换为十六进制数](https://leetcode-cn.com/problems/convert-a-number-to-hexadecimal/) |      |



## 3. 解题报告

**题目描述**

**解题思路**

**Java代码**

```java

```

